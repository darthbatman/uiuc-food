"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RECORD_DELIMITER = '\n';
class CsvStringifier {
    constructor(fieldStringifier, fieldDelimiter) {
        this.fieldStringifier = fieldStringifier;
        this.fieldDelimiter = fieldDelimiter;
    }
    getHeaderString() {
        const headerRecord = this.getHeaderRecord();
        return headerRecord ? this.stringifyRecords([headerRecord]) : null;
    }
    stringifyRecords(records) {
        const csvLines = Array.from(records, record => this.getCsvLine(this.getRecordAsArray(record)));
        return csvLines.join(RECORD_DELIMITER) + RECORD_DELIMITER;
    }
    getCsvLine(record) {
        return record
            .map(fieldValue => this.fieldStringifier.stringify(fieldValue))
            .join(this.fieldDelimiter);
    }
}
exports.CsvStringifier = CsvStringifier;
//# sourceMappingURL=abstract.js.map