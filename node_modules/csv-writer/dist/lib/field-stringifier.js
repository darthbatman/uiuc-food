"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class FieldStringifier {
    constructor(fieldDelimiter) {
        this.fieldDelimiter = fieldDelimiter;
    }
    stringify(value) {
        if (typeof value === 'undefined' || value === null)
            return '';
        const str = String(value);
        return this.needsQuote(str) ? `"${str.replace(/"/g, '""')}"` : str;
    }
    needsQuote(str) {
        return str.includes(this.fieldDelimiter) || str.includes('\n') || str.includes('"');
    }
}
exports.FieldStringifier = FieldStringifier;
//# sourceMappingURL=field-stringifier.js.map